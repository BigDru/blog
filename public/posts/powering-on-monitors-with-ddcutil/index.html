<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-us" lang="en-us">
<head>
    
<script defer language="javascript" type="text/javascript" src="https://blog.dumbrava.ca/js/light_dark.js"></script>
<script defer language="javascript" type="text/javascript" src="https://blog.dumbrava.ca/js/tabs.js"></script>


<script defer language="javascript" type="text/javascript" src="https://blog.dumbrava.ca/js/katex.min.js"></script>
<script defer language="javascript" type="text/javascript" src="https://blog.dumbrava.ca/js/auto-render.min.js"></script>





<script defer language="javascript" type="text/javascript" src="https://blog.dumbrava.ca/js/katex.js"></script>
<script defer language="javascript" type="text/javascript" src="https://blog.dumbrava.ca/js/toc.js"></script>





    
    <meta http-equiv="content-type" content="text/html; charset=utf-8">

    
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    
    





  
 

 


  
  
  
 



  
  
    
  
  




<title itemprop="name">Dumbrava Tech - Powering on Monitors with ddcutil</title>
<meta property="og:title" content=Dumbrava&#32;Tech&#32;-&#32;Powering&#32;on&#32;Monitors&#32;with&#32;ddcutil />
<meta name="twitter:title" content=Dumbrava&#32;Tech&#32;-&#32;Powering&#32;on&#32;Monitors&#32;with&#32;ddcutil />
<meta itemprop="name" content=Dumbrava&#32;Tech&#32;-&#32;Powering&#32;on&#32;Monitors&#32;with&#32;ddcutil />
<meta name="application-name" content=Dumbrava&#32;Tech&#32;-&#32;Powering&#32;on&#32;Monitors&#32;with&#32;ddcutil />
<meta property="og:site_name" content="Dumbrava Tech" />


<meta name="description" content="" />
<meta itemprop="description" content="" />
<meta property="og:description" content="" />
<meta name="twitter:description" content="" />


<base href="https://blog.dumbrava.ca/posts/powering-on-monitors-with-ddcutil/" />
<link rel="canonical" href="https://blog.dumbrava.ca/posts/powering-on-monitors-with-ddcutil/" itemprop="url" />
<meta name="url" content="https://blog.dumbrava.ca/posts/powering-on-monitors-with-ddcutil/" />
<meta name="twitter:url" content="https://blog.dumbrava.ca/posts/powering-on-monitors-with-ddcutil/" />
<meta property="og:url" content="https://blog.dumbrava.ca/posts/powering-on-monitors-with-ddcutil/" />





<meta property="og:updated_time" content=1005-01-08T532:55:23-0400 />


<link rel="sitemap" type="application/xml" title="Sitemap" href='https://blog.dumbrava.ca/sitemap.xml' />

<meta name="robots" content="index,follow" />
<meta name="googlebot" content="index,follow" />


<meta name="twitter:site" content="" />
<meta name="twitter:creator" content="" />
<meta property="fb:admins" content="" />


<meta name="apple-mobile-web-app-title" content="Dumbrava Tech" />
<meta name="apple-mobile-web-app-capable" content="yes" />
<meta name="apple-mobile-web-app-status-bar-style" content="black" />





 


<meta property="og:type" content="article" />
<meta property="article:publisher" content="" />
<meta property="og:article:published_time" content=1005-01-08T532:55:23-0400 />
<meta property="article:published_time" content=1005-01-08T532:55:23-0400 />





<script defer type="application/ld+json">
  {
    "@context": "http://schema.org",
    "@type": "Article",
    "headline": "Powering on Monitors with ddcutil",
    "author": {
      "@type": "Person",
      "name": "https:\/\/github.com\/BigDru"
    },
    "datePublished": "2023-05-01",
    "description": "",
    "wordCount":  1185 ,
    "mainEntityOfPage": "True",
    "dateModified": "2023-05-01",
    "image": {
      "@type": "imageObject",
      "url": ""
    },
    "publisher": {
      "@type": "Organization",
      "name": "Dumbrava Tech",
      "logo": {
        "@type": "imageObject",
        "url": ""
      }
    }
  }
</script>



<meta name="generator" content="Hugo 0.112.3">


    
    <link type="text/css" rel="stylesheet" href="https://blog.dumbrava.ca/css/poole.css">
<link type="text/css" rel="stylesheet" href="https://blog.dumbrava.ca/css/syntax.css">
<link type="text/css" rel="stylesheet" href="https://blog.dumbrava.ca/css/hyde.css">
<link type="text/css" rel="stylesheet" href="https://blog.dumbrava.ca/css/poison.css">
<link type="text/css" rel="stylesheet" href="https://blog.dumbrava.ca/css/fonts.css">
<link type="text/css" rel="stylesheet" href="https://blog.dumbrava.ca/css/katex.min.css">
<link type="text/css" rel="stylesheet" href="https://blog.dumbrava.ca/css/tabs.css">


<link type="text/css" rel="stylesheet" href="https://blog.dumbrava.ca/css/custom.css">


    
    <style>
    body {
        --sidebar-bg-color: #202020;
        --sidebar-img-border-color: #515151;
        --sidebar-p-color: #909090;
        --sidebar-h1-color: #FFF;
        --sidebar-a-color: #FFF;
        --sidebar-socials-color: #FFF;
        --text-color: #222;
        --bkg-color: #FAF9F6;
        --post-title-color: #303030;
        --list-color: #5a5a5a;
        --link-color: #268bd2;
        --date-color: #515151;
        --table-border-color: #E5E5E5;
        --table-stripe-color: #F9F9F9;
        --code-color: #bf616a;
        --code-background-color: #E5E5E5;
        --moon-sun-color: #FFF;
        --moon-sun-background-color: #515151;
    }
    body.dark-theme {
        --text-color: #eee;
        --bkg-color: #121212;
        --post-title-color: #DBE2E9;
        --list-color: #9d9d9d;
        --link-color: #268bd2;
        --date-color: #9a9a9a;
        --table-border-color: #515151;
        --table-stripe-color: #202020;
        --code-color: #ff7f7f;
        --code-background-color: #393D47;
    }
    body {
        background-color: var(--bkg-color);
    }
</style>

</head>

    <body class="dark-theme">
        <div class="wrapper">
            <aside class="sidebar">
    <div class="container sidebar-sticky">
        <div class="light-dark" align="right">
    <button class="btn-light-dark">
        <svg class="moon" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 16 16">
            <path fill="currentColor" d="M6 .278a.768.768 0 0 1 .08.858a7.208 7.208 0 0 0-.878 3.46c0 4.021 3.278 7.277 7.318 7.277c.527 0 1.04-.055 1.533-.16a.787.787 0 0 1 .81.316a.733.733 0 0 1-.031.893A8.349 8.349 0 0 1 8.344 16C3.734 16 0 12.286 0 7.71C0 4.266 2.114 1.312 5.124.06A.752.752 0 0 1 6 .278z"/>
        </svg>
        <svg class="sun" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 16 16">
            <path fill="currentColor" d="M8 12a4 4 0 1 0 0-8a4 4 0 0 0 0 8zM8 0a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-1 0v-2A.5.5 0 0 1 8 0zm0 13a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-1 0v-2A.5.5 0 0 1 8 13zm8-5a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1 0-1h2a.5.5 0 0 1 .5.5zM3 8a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1 0-1h2A.5.5 0 0 1 3 8zm10.657-5.657a.5.5 0 0 1 0 .707l-1.414 1.415a.5.5 0 1 1-.707-.708l1.414-1.414a.5.5 0 0 1 .707 0zm-9.193 9.193a.5.5 0 0 1 0 .707L3.05 13.657a.5.5 0 0 1-.707-.707l1.414-1.414a.5.5 0 0 1 .707 0zm9.193 2.121a.5.5 0 0 1-.707 0l-1.414-1.414a.5.5 0 0 1 .707-.707l1.414 1.414a.5.5 0 0 1 0 .707zM4.464 4.465a.5.5 0 0 1-.707 0L2.343 3.05a.5.5 0 1 1 .707-.707l1.414 1.414a.5.5 0 0 1 0 .708z"/>
        </svg>
    </button>
</div>

        <div class="sidebar-about">
    <h1 class="brand">
        
        
            <a href="https://blog.dumbrava.ca/">
                <h1>Dumbrava Tech</h1>
            </a>
        
    </h1>
    <p class="lead">
    Personal tech blog
    </p>
</div>

        <nav>
    <ul class="sidebar-nav">

        
        
        
        
            

            
                
            
            
                
            
                
            
        
        
            

            
                
                    <li class="heading">
                        <a href="/posts/">Posts</a>
                    </li>
                    
                        <li class="sub-heading">
                            Recent
                        </li>
                        
                            <li class="bullet">
                                <a href="https://blog.dumbrava.ca/posts/powering-on-monitors-with-ddcutil/">Powering on Monitors with ddcutil</a>
                            </li>
                        
                    
                
            
            
                
            
                
            
        

    </ul>
</nav>

        
    <a target="_blank" class="social" href="https://github.com/BigDru">
        <svg xmlns="http://www.w3.org/2000/svg" width="1.2em" height="1.2em" viewBox="-2 -2 24 24">
            <path fill="currentColor" d="M18.88 1.099C18.147.366 17.265 0 16.233 0H3.746C2.714 0 1.832.366 1.099 1.099C.366 1.832 0 2.714 0 3.746v12.487c0 1.032.366 1.914 1.099 2.647c.733.733 1.615 1.099 2.647 1.099H6.66c.19 0 .333-.007.429-.02a.504.504 0 0 0 .286-.169c.095-.1.143-.245.143-.435l-.007-.885c-.004-.564-.006-1.01-.006-1.34l-.3.052c-.19.035-.43.05-.721.046a5.555 5.555 0 0 1-.904-.091a2.026 2.026 0 0 1-.872-.39a1.651 1.651 0 0 1-.572-.8l-.13-.3a3.25 3.25 0 0 0-.41-.663c-.186-.243-.375-.407-.566-.494l-.09-.065a.956.956 0 0 1-.17-.156a.723.723 0 0 1-.117-.182c-.026-.061-.004-.111.065-.15c.07-.04.195-.059.378-.059l.26.04c.173.034.388.138.643.311a2.1 2.1 0 0 1 .631.677c.2.355.44.626.722.813c.282.186.566.28.852.28c.286 0 .533-.022.742-.065a2.59 2.59 0 0 0 .585-.196c.078-.58.29-1.028.637-1.34a8.907 8.907 0 0 1-1.333-.234a5.314 5.314 0 0 1-1.223-.507a3.5 3.5 0 0 1-1.047-.872c-.277-.347-.505-.802-.683-1.365c-.177-.564-.266-1.215-.266-1.952c0-1.049.342-1.942 1.027-2.68c-.32-.788-.29-1.673.091-2.652c.252-.079.625-.02 1.119.175c.494.195.856.362 1.086.5c.23.14.414.257.553.352a9.233 9.233 0 0 1 2.497-.338c.859 0 1.691.113 2.498.338l.494-.312a6.997 6.997 0 0 1 1.197-.572c.46-.174.81-.221 1.054-.143c.39.98.424 1.864.103 2.653c.685.737 1.028 1.63 1.028 2.68c0 .737-.089 1.39-.267 1.957c-.177.568-.407 1.023-.689 1.366a3.65 3.65 0 0 1-1.053.865c-.42.234-.828.403-1.223.507a8.9 8.9 0 0 1-1.333.235c.45.39.676 1.005.676 1.846v3.11c0 .147.021.266.065.357a.36.36 0 0 0 .208.189c.096.034.18.056.254.064c.074.01.18.013.318.013h2.914c1.032 0 1.914-.366 2.647-1.099c.732-.732 1.099-1.615 1.099-2.647V3.746c0-1.032-.367-1.914-1.1-2.647z"/>
        </svg>
    </a>



    <a target="_blank" class="social" href="https://linkedin.com/in/adumbrava">
        <svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1.2em" viewBox="0 0 448 512">
            <path fill="currentColor" d="M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5c0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7c-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5c67.2 0 79.7 44.3 79.7 101.9V416z"/>
        </svg>
    </a>










    <a target="_blank" class="social" href="mailto://al.dumbrava@gmail.com">
        <svg
            width="1.2em" height="1.2em" viewBox="-2 -2.5 448 512"
            xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape"
            xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
            xmlns="http://www.w3.org/2000/svg"
            xmlns:dc="http://purl.org/dc/elements/1.1/"
            xmlns:ns1="http://sozi.baierouge.fr"
            xmlns:cc="http://web.resource.org/cc/"
            xmlns:xlink="http://www.w3.org/1999/xlink"
            xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd"
            version="1.1"
        >
            <g
                id="Layer_2"
                transform="scale(2.3,3)"
            >
                <path
                    stroke="#202020"
                    stroke-width="8"
                    stroke-miterlimit="10"
                    d="m194.77 146.09c0 6.627-5.373 12-12 12h-166c-6.627 0-12-5.373-12-12v-96.226c0-6.627 5.373-12 12-12h166c6.627 0 12 5.373 12 12v96.226z"
                    fill="currentColor"
                />
            </g>
            <g
                id="Layer_3"
                transform="scale(2.3,3)"
                stroke="#202020"
                stroke-width="8"
                stroke-miterlimit="10"
                fill="currentColor"
            >
                <polyline points="10.409 41.273 99.5 148 187.27 42.409"/>
                <line
                    y2="111.95"
                    x1="9.318"
                    x2="65.909"
                    y1="153.32"
                />
                <line
                    y2="153.32"
                    x1="128.86"
                    x2="189.32"
                    y1="108.55"
                />
            </g>
            <metadata>
                <rdf:RDF>
                    <cc:Work>
                        <dc:format>image/svg+xml</dc:format>
                        <dc:type rdf:resource="http://purl.org/dc/dcmitype/StillImage"/>
                        <cc:license rdf:resource="http://creativecommons.org/licenses/publicdomain/"/>
                        <dc:publisher>
                            <cc:Agent rdf:about="http://openclipart.org/">
                                <dc:title>Openclipart</dc:title>
                            </cc:Agent>
                        </dc:publisher>
                    </cc:Work>
                    <cc:License rdf:about="http://creativecommons.org/licenses/publicdomain/">
                        <cc:permits rdf:resource="http://creativecommons.org/ns#Reproduction"/>
                        <cc:permits rdf:resource="http://creativecommons.org/ns#Distribution"/>
                        <cc:permits rdf:resource="http://creativecommons.org/ns#DerivativeWorks"/>
                    </cc:License>
                </rdf:RDF>
            </metadata>
        </svg>
    </a>


        <p class="footnote">
powered by <a target="_blank" href="https://gohugo.io">Hugo</a> | themed with <a target="_blank" href="https://github.com/lukeorth/poison">poison</a>
    <br>
    &copy; 2023 Dumbrava Tech. All rights reserved.
</p>

  </div>
</aside>

            <main class="content container">
                <div class="post">
  <div class="info">
    <h1 class="post-title">
        <a href="https://blog.dumbrava.ca/posts/powering-on-monitors-with-ddcutil/">Powering on Monitors with ddcutil</a>
    </h1>
    <time datetime="2023-05-01T20:32:55-0400" class="post-date">
        May 1, 2023
    </time>
    
    
    
    
    
    
</div>

  <h1 id="problem">Problem:</h1>
<p>I have 4 monitors. Two of them are ASUS monitors (VS239) that are stacked one above the other on my left side. The issue I’m having is that these two monitors don’t wakeup when I power on my computer.</p>
<h1 id="exploration">Exploration:</h1>
<p>Let’s begin by asking ChatGPT for a solution. It recommended I use <code>ddcutil</code>. The rest of the recommendations didn’t work too well but it gave us a nice starting point.</p>
<p>First let’s install <code>ddcutil</code>:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>sudo pacman -S ddcutil
</span></span></code></pre></div><p>Then let’s try to detect the screens:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>sudo ddcutil detect
</span></span></code></pre></div><p>An error came up saying ddcutil needs the i2c-dev module to work. So let’s enabled it:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>sudo modprobe i2c-dev
</span></span><span style="display:flex;"><span>sudo ddcutil detect
</span></span></code></pre></div><p>Then we get the following output:</p>
<pre tabindex="0"><code class="language-output" data-lang="output">Display 1
I2C bus: /dev/i2c-4
DRM connector: card0-DP-3
EDID synopsis:
Mfg id: HWP - Hewlett Packard
Model: HP E231
Product code: 12387 (0x3063)
Serial number: 3CQ42519HV
Binary serial number: 16843009 (0x01010101)
Manufacture year: 2014, Week: 25
VCP version: 2.2

Display 2
I2C bus: /dev/i2c-7
DRM connector: card0-HDMI-A-2
EDID synopsis:
Mfg id: ACI - Ancor Communications Inc
Model: ASUS VS239
Product code: 9170 (0x23d2)
Serial number: DCLMTF166938
Binary serial number: 166938 (0x00028c1a)
Manufacture year: 2013, Week: 51
VCP version: 2.1

Display 3
I2C bus: /dev/i2c-10
DRM connector: card0-DP-2
EDID synopsis:
Mfg id: ACR - Acer Technologies
Model: XB271HU
Product code: 1168 (0x0490)
Serial number: #ASNjZfyWiDXd
Binary serial number: 72366061 (0x045037ed)
Manufacture year: 2020, Week: 45
VCP version: 2.2

Display 4
I2C bus: /dev/i2c-11
DRM connector: card0-HDMI-A-1
EDID synopsis:
Mfg id: ACI - Ancor Communications Inc
Model: ASUS VS239
Product code: 9170 (0x23d2)
Serial number: K6LMTF053243
Binary serial number: 53243 (0x0000cffb)
Manufacture year: 2019, Week: 24
VCP version: 2.1

Display 5
I2C bus: /dev/i2c-18
DRM connector: card0-DP-2
EDID synopsis:
Mfg id: ACR - Acer Technologies
Model: XB271HU
Product code: 1168 (0x0490)
Serial number: #ASNjZfyWiDXd
Binary serial number: 72366061 (0x045037ed)
Manufacture year: 2020, Week: 45
VCP version: 2.2

Display 6
I2C bus: /dev/i2c-19
DRM connector: card0-DP-3
EDID synopsis:
Mfg id: HWP - Hewlett Packard
Model: HP E231
Product code: 12387 (0x3063)
Serial number: 3CQ42519HV
Binary serial number: 16843009 (0x01010101)
Manufacture year: 2014, Week: 25
VCP version: 2.2
</code></pre><p>This was very interesting since I only have 4 monitors (not 6). My main monitor is the XB271HU (Display 3 &amp; 5). My HP monitor is in a portrait position on the right (Display 1 &amp; 6). And the remaining two monitors are the ASUS monitors that won’t turn on. If anyone knows why the XB271HU and the HP monitor have duplicate entries I’d be interested to know (comment below).</p>
<p>Next we need to figure out the available VCP codes. VCP = Virtual Control Panel and it’s a “feature code” that is used to get or set information from (what I’m guessing) is the monitor’s internal memory registers. Considering we needed to activate a i2c-dev module to run commands via ddcutil, I assume we are somehow talking directly to the microcontroller over I2C.</p>
<p>To select the specific monitor we can use a variety of options (viewable via <code>ddcutil --help</code>). I decided to use the ASCII serial number:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>sudo ddcutil -n DCLMTF166938 getvcp known
</span></span></code></pre></div><p>The output is as follows:</p>
<pre tabindex="0"><code class="language-output" data-lang="output">VCP code 0x02 (New control value ): One or more new control values have been saved (0x02)
VCP code 0x0b (Color temperature increment ): 50 degree(s) Kelvin
VCP code 0x0c (Color temperature request ): 3000 + 70 * (feature 0B color temp increment) degree(s) Kelvin
VCP code 0x10 (Brightness ): current value = 60, max value = 100
VCP code 0x12 (Contrast ): current value = 80, max value = 100
VCP code 0x14 (Select color preset ): User 1 (sl=0x0b)
VCP code 0x16 (Video gain: Red ): current value = 100, max value = 100
VCP code 0x18 (Video gain: Green ): current value = 100, max value = 100
VCP code 0x1a (Video gain: Blue ): current value = 100, max value = 100
VCP code 0x52 (Active control ): Value: 0x00
VCP code 0x60 (Input Source ): HDMI-1 (sl=0x11)
VCP code 0x62 (Audio speaker volume ): current value = 50, max value = 100
VCP code 0x6c (Video black level: Red ): current value = 50, max value = 100
VCP code 0x6e (Video black level: Green ): current value = 50, max value = 100
VCP code 0x70 (Video black level: Blue ): current value = 50, max value = 100
VCP code 0x8d (Audio Mute ): Unmute the audio (sl=0x02)
VCP code 0xac (Horizontal frequency ): 1364 hz
VCP code 0xae (Vertical frequency ): 59.50 hz
VCP code 0xb2 (Flat panel sub-pixel layout ): Red/Green/Blue vertical stripe (sl=0x01)
VCP code 0xb6 (Display technology type ): LCD (active matrix) (sl=0x03)
VCP code 0xc0 (Display usage time ): Usage time (hours) = 62031 (0x00f24f) mh=0xff, ml=0xff, sh=0xf2, sl=0x4f
VCP code 0xc6 (Application enable key ): 0x006f
VCP code 0xc8 (Display controller type ): Mfg: Novatek (sl=0x12), controller number: mh=0xff, ml=0xff, sh=0x00
VCP code 0xc9 (Display firmware level ): 0.2
VCP code 0xca (OSD ): OSD Enabled (sl=0x02)
VCP code 0xcc (OSD Language ): English (sl=0x02)
VCP code 0xd6 (Power mode ): DPM: Off, DPMS: Standby (sl=0x02)
VCP code 0xdc (Display Mode ): User defined (sl=0x04)
VCP code 0xdf (VCP Version ): 2.1
</code></pre><p>The VCP code of interest is 0xd6. I couldn’t find a command to tell me what values are acceptible for this register so I asked chatGPT. It was convinced 0x01 was the value needed to bring the monitor to an ON state. So I gave it a try and it worked!</p>
<h1 id="solution">Solution</h1>
<p>Now that we have all the pieces so let’s put it all together. First I made a bash script that I can run as sudo to power on the monitors whenever I want:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#75715e">#!/bin/bash
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>modprobe i2c-dev
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>ddcutil -n DCLMTF166938 setvcp 0xd6 0x01
</span></span><span style="display:flex;"><span>ddcutil -n K6LMTF053243 setvcp 0xd6 0x01
</span></span></code></pre></div><p>Running this script powers on my monitors as intended. ChatGPT suggested adding a line <code>i2c-dev to /etc/modules-load.d/modules.conf</code> to ensure the module is loaded on boot, but if I ever change my monitors, I won’t need that module anymore. I fear that I will forget about it and unnecessarily bloat my computer. So I’m content with loading the module only inside the script.</p>
<p>The final part is to call the script when the computer boots. Let’s create a service file at <code>/etc/systemd/system/start-asus-monitors.service</code>:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-service" data-lang="service"><span style="display:flex;"><span><span style="color:#66d9ef">[Unit]</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">Description</span><span style="color:#f92672">=</span><span style="color:#e6db74">Wake up ASUS monitors on boot</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">[Service]</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">Type</span><span style="color:#f92672">=</span><span style="color:#e6db74">oneshot</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">ExecStart</span><span style="color:#f92672">=</span><span style="color:#e6db74">/bin/bash /home/dru/bin/start_asus_monitors.sh</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">[Install]</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">WantedBy</span><span style="color:#f92672">=</span><span style="color:#e6db74">default.target</span>
</span></span></code></pre></div><p>And enable it:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>sudo systemctl enable start-asus-monitors
</span></span></code></pre></div><p>Reboot to test and we&rsquo;re done!</p>
<h1 id="notes-for-the-future">Notes for the future:</h1>
<p>I tried setting up an additional service that triggers after <code>sleep.target</code> but it would wake up my computer immediately after I put it to sleep and then leave the computer in an unstable state. In the future, it would be nice if I could figure out a way to trigger the script when the desktop loads / becomes visible (on boot and on wakeup). This would allow me to wake up the monitors automatically even if I put the computer to sleep. For now I’ll settle with calling the shell script we created earlier. If you have any ideas for how to approach this problem feel free to comment below!</p>

  <hr>
<div class="footer">
    
	    
	    
    
</div>

</div>
            </main>
            
  <div class="article-toc " >
    <div class="toc-wrapper">
      <h4>Contents</h4>
      <nav id="TableOfContents"></nav>
    </div>
</div>


        </div>
    </body>
</html>
